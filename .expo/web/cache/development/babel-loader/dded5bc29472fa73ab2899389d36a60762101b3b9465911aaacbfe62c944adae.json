{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport Api, { getCookie } from \"./Api\";\nexport var UserApi = function () {\n  var _ref2 = _asyncToGenerator(function* (_ref) {\n    var username = _ref.username,\n      password = _ref.password;\n    try {\n      var formData = new FormData();\n      formData.append(\"username\", username);\n      formData.append(\"password\", password);\n      var result = yield Api.post(\"/login\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          \"X-CSRFToken\": getCookie(\"csrftoken\")\n        }\n      });\n      if (result.status === 200) {\n        return result;\n      } else if (result.status >= 300 && result.status < 500) {} else if (result.status >= 500) {}\n    } catch (error) {\n      console.error(\"API error:\", error);\n    }\n  });\n  return function UserApi(_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["Api","getCookie","UserApi","_ref2","_asyncToGenerator","_ref","username","password","formData","FormData","append","result","post","headers","status","error","console","_x","apply","arguments"],"sources":["C:/Users/skmola/Desktop/projects/worko/Api/UserApi.js"],"sourcesContent":["\r\nimport Api,{ getCookie }from \"./Api\";\r\n\r\n\r\nexport const UserApi = async ({ username, password }) => {\r\n  try {\r\n    const formData = new FormData();\r\n    formData.append(\"username\", username);\r\n    formData.append(\"password\", password);\r\n\r\n    const result = await Api.post(\"/login\", formData, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",  // Required for FormData\r\n        \"X-CSRFToken\": getCookie(\"csrftoken\"),  // Attach the CSRF token explicitly\r\n      },\r\n    });\r\n\r\n    if (result.status === 200) {\r\n      return result;\r\n    } else if (result.status >= 300 && result.status < 500) {\r\n      // Handle status 300, 400, or other client-side errors\r\n    } else if (result.status >= 500) {\r\n      // Handle server-side errors\r\n    }\r\n  } catch (error) {\r\n    console.error(\"API error:\", error);\r\n  }\r\n};\r\n"],"mappings":";AACA,OAAOA,GAAG,IAAGC,SAAS;AAGtB,OAAO,IAAMC,OAAO;EAAA,IAAAC,KAAA,GAAAC,iBAAA,CAAG,WAAAC,IAAA,EAAkC;IAAA,IAAzBC,QAAQ,GAAAD,IAAA,CAARC,QAAQ;MAAEC,QAAQ,GAAAF,IAAA,CAARE,QAAQ;IAChD,IAAI;MACF,IAAMC,QAAQ,GAAG,IAAIC,QAAQ,EAAE;MAC/BD,QAAQ,CAACE,MAAM,CAAC,UAAU,EAAEJ,QAAQ,CAAC;MACrCE,QAAQ,CAACE,MAAM,CAAC,UAAU,EAAEH,QAAQ,CAAC;MAErC,IAAMI,MAAM,SAASX,GAAG,CAACY,IAAI,CAAC,QAAQ,EAAEJ,QAAQ,EAAE;QAChDK,OAAO,EAAE;UACP,cAAc,EAAE,qBAAqB;UACrC,aAAa,EAAEZ,SAAS,CAAC,WAAW;QACtC;MACF,CAAC,CAAC;MAEF,IAAIU,MAAM,CAACG,MAAM,KAAK,GAAG,EAAE;QACzB,OAAOH,MAAM;MACf,CAAC,MAAM,IAAIA,MAAM,CAACG,MAAM,IAAI,GAAG,IAAIH,MAAM,CAACG,MAAM,GAAG,GAAG,EAAE,CAExD,CAAC,MAAM,IAAIH,MAAM,CAACG,MAAM,IAAI,GAAG,EAAE,CAEjC;IACF,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,YAAY,EAAEA,KAAK,CAAC;IACpC;EACF,CAAC;EAAA,gBAvBYb,OAAOA,CAAAe,EAAA;IAAA,OAAAd,KAAA,CAAAe,KAAA,OAAAC,SAAA;EAAA;AAAA,GAuBnB"},"metadata":{},"sourceType":"module","externalDependencies":[]}